#N canvas 0 31 913 445 10;
#N canvas 0 22 464 243 frame-scoring 0;
#X obj 61 76 inlet~;
#X obj 362 116 block~ 1024;
#X obj 61 93 rfft~;
#X obj 61 110 cartopol~;
#X obj 197 72 inlet~;
#X obj 197 89 rfft~;
#X obj 197 106 cartopol~;
#X obj 60 166 framescore~;
#X obj 60 183 outlet;
#X obj 296 149 inlet;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 9 0 7 2;
#X restore 95 210 pd frame-scoring;
#X floatatom 95 262 0 0 0 0 similarity - -;
#X obj 80 279 f;
#X obj 151 70 bng 15 250 50 0 empty empty different 0 -6 0 8 -262144
-1 -1;
#X obj 151 85 t b b;
#X obj 74 70 bng 15 250 50 0 empty empty same 0 -6 0 8 -262144 -1 -1
;
#X obj 74 85 t b b;
#X floatatom 342 165 5 1 100 0 - - -;
#X floatatom 342 196 5 0 0 1 window - -;
#X obj 342 179 / 100;
#N canvas 0 22 532 477 testinput 0;
#X obj 73 73 openpanel;
#X obj 107 23 inlet;
#X obj 107 40 sel 1 2;
#N canvas 0 22 450 300 (subpatch) 0;
#X array test-1 325922 float 0;
#X coords 0 1 325921 -1 300 80 1;
#X restore 83 191 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array test-2 192058 float 0;
#X coords 0 1 192057 -1 300 80 1;
#X restore 83 282 graph;
#X msg 73 90 read -resize \$1 test-1;
#X obj 73 107 soundfiler;
#X obj 169 124 t b f;
#X obj 240 73 openpanel;
#X obj 240 107 soundfiler;
#X msg 240 90 read -resize \$1 test-2;
#X obj 169 158 / 44.1;
#X obj 169 141 min;
#X obj 213 158 outlet;
#X obj 329 124 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 329 139 outlet;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 2 1 8 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 12 0;
#X connect 7 1 12 1;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 9 0 14 0;
#X connect 10 0 9 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 14 0 15 0;
#X restore 314 48 pd testinput;
#X msg 314 31 1;
#X msg 337 31 2;
#X floatatom 314 65 0 0 0 0 shortest - -;
#X obj 314 82 / 2;
#X floatatom 314 216 0 0 0 0 - - -;
#X obj 263 216 del 500;
#N canvas 0 22 264 157 playsound 0;
#X obj 51 82 tabplay~ test-1;
#X obj 164 65 inlet;
#X obj 51 65 inlet;
#X obj 51 99 outlet~;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X restore 74 136 pd playsound;
#N canvas 0 22 264 157 playsound 0;
#X obj 51 82 tabplay~ test-1;
#X obj 153 65 inlet;
#X obj 51 65 inlet;
#X obj 51 99 outlet~;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X restore 160 136 pd playsound;
#X text 439 12 framescore~ calculates a weighted similarity value for
two signal vectors. The value is weighted proportional to amplitude
\, so that comparisons made between higher value vectors have more
effect on the output than comparisons between low value vectors.;
#X obj 337 14 r loadsamples;
#X msg 103 119 set test-1;
#X msg 233 102 set test-1;
#X msg 233 119 set test-2;
#X text 437 80 Its use is in comparing alpha vectors from an rfft~
-> cartopol~ pair \, where higher amplitude bins are weighted against
low amplitude bins. The maximum amplitude of the comparison vector
on inlet 2 is used to scale the output value so that it always gives
a score between 0 (no similarity) and 1 (identical alpha).;
#X text 434 242 start here;
#X obj 125 313 > 0.5;
#X msg 102 313 1;
#X obj 102 330 -;
#X obj 80 296 t f b f;
#X obj 80 355 spigot;
#X obj 124 355 spigot;
#X obj 124 372 print similar;
#X obj 80 389 print different;
#X msg 436 258 \; pd dsp 1 \; loadsamples bang;
#X obj 246 153 loadbang;
#X msg 246 170 1;
#X text 92 37 _Compare_;
#X text 670 244 see also;
#X obj 671 258 framespect~;
#X text 438 158 Differences between the peak levels of the two vectors
may cause similarities in peak patterns to be missed. This can be avoided
by first passing the alpha vectors through a <blocknorm~> object from
the <creb> library.;
#X text 3 210 HERE it is-->;
#X obj 671 278 simile~;
#X obj 671 298 simile;
#X obj 671 318 hssc~;
#X text 438 210 Alternatively the object may be used to compare any
positive pair of vectors block-by-block.;
#N canvas 379 254 494 344 META 0;
#X text 12 175 HELP_PATCH_AUTHORS Ed Kelly. Revised by Jonathan Wilkes
for Pd-extended 0.42 to conform to the PDDP template.;
#X text 12 155 AUTHOR Ed Kelly <morph_2016@yahoo.co.uk>;
#X text 12 5 KEYWORDS signal;
#X text 12 45 DESCRIPTION calculate a weighted similarity value for
two signal vectors;
#X text 12 75 INLET_0 signal;
#X text 12 95 INLET_1 signal;
#X text 12 115 INLET_2 float;
#X text 12 135 OUTLET_0 float;
#X text 12 25 LICENSE GPL v3;
#X restore 848 413 pd META;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 2 0 29 0;
#X connect 3 0 4 0;
#X connect 4 0 16 0;
#X connect 4 0 18 0;
#X connect 4 0 17 0;
#X connect 4 1 23 0;
#X connect 4 1 21 0;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 6 0 17 0;
#X connect 6 0 18 0;
#X connect 6 1 21 0;
#X connect 6 1 22 0;
#X connect 7 0 9 0;
#X connect 8 0 0 2;
#X connect 9 0 8 0;
#X connect 10 0 13 0;
#X connect 10 1 11 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 1;
#X connect 16 0 2 0;
#X connect 17 0 0 0;
#X connect 18 0 0 1;
#X connect 20 0 12 0;
#X connect 21 0 17 1;
#X connect 22 0 18 1;
#X connect 23 0 18 1;
#X connect 26 0 28 1;
#X connect 26 0 31 1;
#X connect 27 0 28 0;
#X connect 28 0 30 1;
#X connect 29 0 30 0;
#X connect 29 0 31 0;
#X connect 29 1 27 0;
#X connect 29 2 26 0;
#X connect 30 0 33 0;
#X connect 31 0 32 0;
#X connect 35 0 36 0;
#X connect 36 0 7 0;
