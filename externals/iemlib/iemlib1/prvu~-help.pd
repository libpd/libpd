#N canvas 1 55 709 588 10;
#X msg 177 246 0;
#X msg 478 246 0.5;
#X msg 540 246 1;
#X obj 106 283 sig~;
#X floatatom 106 481 9 0 0 0 - - -;
#X floatatom 173 435 9 0 0 0 - - -;
#X msg 106 189 reset;
#X msg 106 223 start;
#X msg 106 206 stop;
#X msg 367 246 0.1;
#X msg 331 246 0.01;
#X msg 289 246 0.001;
#X msg 247 246 0.0001;
#X msg 204 246 1e-05;
#X msg 400 246 0.25;
#X msg 437 246 0.316;
#X msg 499 246 0.707;
#X msg 570 246 1.414;
#X msg 612 246 2;
#X msg 645 246 10;
#X text 27 352 ~signal_in~;
#X text 211 47 (periode between 2 output-events);
#X text 32 42 dsp ON/OFF;
#X obj 14 61 dsp;
#X floatatom 14 82 3 0 0 0 - - -;
#X text 41 83 % cpu;
#X obj 106 395 unpack 0 0 0;
#X floatatom 139 458 9 0 0 0 - - -;
#X text 205 459 2.item: <float> peak_level [dB];
#X text 170 482 1.item: <float> rms_level [dB];
#X obj 14 40 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 25 381 vu 15 120 empty empty -1 -8 0 8 -66577 -1 1 0;
#X floatatom 106 261 9 0 0 0 - - -;
#X obj 135 303 phasor~;
#X obj 135 322 cos~;
#X obj 106 339 *~;
#X floatatom 24 524 6 0 0 0 - - -;
#X floatatom 34 508 6 0 0 0 - - -;
#X text 191 151 4.arg:<float>overflow_threshold [dB] (default: -0.01
dB);
#X text 210 85 (repeat the peak on output until peakholdtime);
#X text 116 377 output: <list> of 3 items:;
#X text 239 435 3.item: <float> overflow_per_metrotime_counter [-]
;
#X msg 106 51 t_metro \$1;
#X msg 106 89 t_hold \$1;
#X msg 106 127 t_release \$1;
#X msg 106 166 threshold \$1;
#X floatatom 106 34 9 50 500 0 - - -;
#X floatatom 106 72 9 10 5000 0 - - -;
#X floatatom 106 110 9 50 2000 0 - - -;
#X text 214 120 (output_level decrements by about 8.6 dB = 63% during
this;
#X text 556 120 time);
#X floatatom 106 149 9 -120 30 0 - - -;
#X text 211 162 (output_overflow_counter increments by 1 per metrotime
\, if;
#X text 563 162 peaklevel > threshold);
#X obj 24 557 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 34 540 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 21 170 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 21 218 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0 1
;
#X obj 21 233 * 0.99;
#X obj 21 252 + 0.01;
#X obj 21 199 metro 2567;
#X obj 106 361 prvu~;
#X text 191 36 1.arg:<float>metrotime [ms] (default: 300 ms);
#X text 191 109 3.arg:<float>releasetime [ms] (default: 300 ms);
#X text 190 74 2.arg:<float>peakholdtime [ms] (default: 1000 ms);
#X obj 135 283 sig~ 10001;
#X text 7 8 prvu~;
#X text 77 8 peak- rms- vu-meter;
#X text 144 188 reset peak- and rms-level to;
#X text 317 188 -99.9 dB and overflow_counter to 0;
#X text 144 205 stop the metro-clock of prvu~;
#X text 144 223 start the metro-clock of prvu~;
#X text 78 509 dB;
#X text 68 525 dB;
#X obj 177 361 prvu~ 300 1000 300 -0.01;
#X text 185 538 IEM KUG;
#X text 169 526 musil;
#X text 199 526 @;
#X text 205 526 iem.at;
#X text 120 515 (c) Thomas Musil 2000 - 2005;
#X text 168 548 Graz \, Austria;
#N canvas 496 267 494 344 META 0;
#X text 12 155 HELP_PATCH_AUTHORS "pd meta" information added by Jonathan
Wilkes for Pd version 0.42.;
#X text 12 135 AUTHOR Thomas Musil;
#X text 12 25 LICENSE LGPL v2.1;
#X text 12 45 DESCRIPTION peak rms vu-meter;
#X text 12 65 INLET_0 signal t_metro t_hold t_release threshold reset
stop stsart;
#X text 12 115 OUTLET_0 signal;
#X text 12 95 INLET_1 signal;
#X text 12 5 KEYWORDS signal;
#X restore 649 561 pd META;
#X connect 0 0 32 0;
#X connect 1 0 32 0;
#X connect 2 0 32 0;
#X connect 3 0 35 0;
#X connect 6 0 61 0;
#X connect 7 0 61 0;
#X connect 8 0 61 0;
#X connect 9 0 32 0;
#X connect 10 0 32 0;
#X connect 11 0 32 0;
#X connect 12 0 32 0;
#X connect 13 0 32 0;
#X connect 14 0 32 0;
#X connect 15 0 32 0;
#X connect 16 0 32 0;
#X connect 17 0 32 0;
#X connect 18 0 32 0;
#X connect 19 0 32 0;
#X connect 23 0 24 0;
#X connect 26 0 4 0;
#X connect 26 1 27 0;
#X connect 26 2 5 0;
#X connect 30 0 23 0;
#X connect 31 0 36 0;
#X connect 31 1 37 0;
#X connect 32 0 3 0;
#X connect 33 0 34 0;
#X connect 34 0 35 1;
#X connect 35 0 61 0;
#X connect 36 0 54 0;
#X connect 37 0 55 0;
#X connect 42 0 61 0;
#X connect 43 0 61 0;
#X connect 44 0 61 0;
#X connect 45 0 61 0;
#X connect 46 0 42 0;
#X connect 47 0 43 0;
#X connect 48 0 44 0;
#X connect 51 0 45 0;
#X connect 56 0 60 0;
#X connect 57 0 58 0;
#X connect 58 0 59 0;
#X connect 59 0 32 0;
#X connect 60 0 57 0;
#X connect 61 0 26 0;
#X connect 61 0 31 0;
#X connect 65 0 33 0;
