#N canvas 11 -3 941 684 10;
#X msg 35 594 \; pd dsp 1;
#X text 432 123 <-- settings for mp3 stream;
#X text 492 177 1 = joint stereo (default);
#X text 456 165 mode: 0 = stereo;
#X text 492 189 2 = dual channel;
#X msg 101 594 \; pd dsp 0;
#X obj 551 317 dac~;
#X msg 368 80 disconnect;
#X floatatom 221 227 5 0 0;
#X obj 221 199 mp3streamout~;
#X msg 367 54 connect localhost 5000;
#X msg 767 69 bang;
#X obj 767 89 openpanel;
#X obj 766 186 soundfiler;
#X floatatom 767 210 10 0 0;
#X obj 767 111 t s b;
#X obj 767 148 pack s s;
#X msg 766 169 read -resize \$1 \$2;
#X obj 803 111 float \$0;
#X text 755 50 Step 1 : Load a sound file;
#X obj 767 128 route float;
#X obj 123 149 tabplay~ \$0-sample;
#X msg 123 120 bang;
#X obj 114 627 table \$0-sample;
#X obj 821 148 makefilename %d-sample;
#X text 371 34 Step 2 : connect the streamer;
#X text 8 100 Step 3 : emit a sound through the streamer;
#X obj 234 276 env~;
#X obj 67 310 timer;
#X obj 207 276 > 0;
#X obj 159 276 route 1;
#X obj 122 276 t b f;
#X floatatom 121 340 5 0 0;
#X obj 80 276 spigot;
#X msg 102 256 0;
#X msg 130 256 1;
#X text 453 135 (bitrate \, mode \, quality);
#X text 453 227 Note : resampling is not supported for now;
#X text 454 238 Note : see the README for allowed bitrate;
#X text 30 9 mp3live~ : mp3streamout~ / mp3streamin~;
#X text 30 20 peer-to-peer mp3 streaming \, written by ydegoyon@free.fr
;
#X msg 342 147 mpeg 32 2 9;
#X text 492 202 3 = mono ( not supported );
#X text 455 153 bitrate: bitrate of stream \, def. 128kbit/s;
#X text 452 215 quality: 5 = high \, 9 = low;
#X text 85 360 streamer latency (ms);
#X obj 35 573 loadbang;
#X msg 343 123 mpeg 128 0 5;
#X obj 536 270 mp3streamin~ 5000 1;
#X symbolatom 639 300 10 0 0;
#X text 622 316 Incomer's address;
#X floatatom 229 496 5 0 0;
#X floatatom 327 498 5 0 0;
#X text 282 366 Step 3 bis : emit a file through the streamer;
#X msg 298 386 bang;
#X msg 299 423 open \$1;
#X msg 393 410 disconnect;
#X msg 393 391 connect localhost 5000;
#X msg 393 429 start;
#X msg 438 430 stop;
#X obj 298 406 openpanel;
#X text 292 522 Number of frames emitted;
#X text 160 515 Connection state;
#X text 31 36 Warning : mp3fileout~ will not read ANY mp3 file \,;
#X text 30 46 but \, at least \, those produced with mp3write~.;
#X msg 474 430 resume;
#X msg 524 429 seek 10000;
#X text 391 503 A bang is emitted at the end of the file;
#X obj 301 454 mp3fileout~;
#X obj 389 485 print thisistheend;
#X connect 7 0 9 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 15 0 16 0;
#X connect 15 1 18 0;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 18 0 20 0;
#X connect 20 0 24 0;
#X connect 21 0 9 0;
#X connect 21 0 9 1;
#X connect 22 0 21 0;
#X connect 22 0 28 0;
#X connect 22 0 35 0;
#X connect 24 0 16 1;
#X connect 27 0 29 0;
#X connect 28 0 32 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 33 0;
#X connect 32 0 34 0;
#X connect 33 0 28 1;
#X connect 34 0 33 1;
#X connect 35 0 33 1;
#X connect 41 0 9 0;
#X connect 46 0 0 0;
#X connect 47 0 9 0;
#X connect 48 0 6 0;
#X connect 48 0 27 0;
#X connect 48 1 6 1;
#X connect 48 2 49 0;
#X connect 54 0 60 0;
#X connect 55 0 68 0;
#X connect 56 0 68 0;
#X connect 57 0 68 0;
#X connect 58 0 68 0;
#X connect 59 0 68 0;
#X connect 60 0 55 0;
#X connect 65 0 68 0;
#X connect 66 0 68 0;
#X connect 68 0 51 0;
#X connect 68 1 52 0;
#X connect 68 2 69 0;
